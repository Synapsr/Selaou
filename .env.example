# =============================================================================
# SELAOU - Configuration
# =============================================================================
# Copy this file to .env.local for development or .env for production

# -----------------------------------------------------------------------------
# Database (MySQL)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=3306
DB_NAME=selaou
DB_USER=selaou
DB_PASSWORD=change_me_in_production
DB_ROOT_PASSWORD=root_change_me

# Full connection URL (constructed from above, or override directly)
DATABASE_URL=mysql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development

# -----------------------------------------------------------------------------
# Segment Selection Algorithm
# -----------------------------------------------------------------------------
# Weight for uncertainty prioritization (0-1)
# 0 = fully random, 1 = only low-confidence segments
SELECTION_UNCERTAINTY_WEIGHT=0.7

# Maximum reviews per segment before it's excluded from selection
SELECTION_MAX_REVIEWS=3

# Balance segment selection across audio sources (true/false)
SELECTION_BALANCE_SOURCES=true

# -----------------------------------------------------------------------------
# Data Source: SQL (for importing from external database)
# -----------------------------------------------------------------------------
DATASOURCE_SQL_ENABLED=false
DATASOURCE_SQL_HOST=
DATASOURCE_SQL_PORT=3306
DATASOURCE_SQL_DATABASE=
DATASOURCE_SQL_USER=
DATASOURCE_SQL_PASSWORD=

# Custom query to fetch audio sources
# Must return: external_id, name, audio_url, whisper_json
DATASOURCE_SQL_QUERY=

# -----------------------------------------------------------------------------
# Data Source: JSON Files (for importing from local/remote files)
# -----------------------------------------------------------------------------
DATASOURCE_JSON_ENABLED=false
# Local path or S3/HTTP URL prefix
DATASOURCE_JSON_PATH=./data/episodes

# -----------------------------------------------------------------------------
# Data Source: API (for importing from REST API)
# -----------------------------------------------------------------------------
DATASOURCE_API_ENABLED=false
DATASOURCE_API_URL=
DATASOURCE_API_AUTH_TYPE=none
DATASOURCE_API_AUTH_TOKEN=

# -----------------------------------------------------------------------------
# Admin Panel
# -----------------------------------------------------------------------------
# Secret token for accessing /admin (required for admin access)
# Generate a secure random string: openssl rand -hex 32
ADMIN_TOKEN=change_me_to_a_secure_random_string
